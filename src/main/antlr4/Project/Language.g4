grammar Language;
program: (statement)+;

// âœ… - Done
// ğŸ†— - Skipped, should be fine

statement                                                                                  // Type Check | Tests
    : ';'                                                             # emptyStatement     // ğŸ†—           âœ…
    | TYPE VAR (',' VAR)* ';'                                         # varDeclStatement   // âœ…           âœ…
    | expression ';'                                                  # exprStatement      // ğŸ†—           âœ…
    | 'read' VAR (',' VAR)* ';'                                       # readStatement      // âœ…           âœ…
    | 'write' expression (',' expression)* ';'                        # writeStatement     // ğŸ†—ï¸           âœ…
    | '{' statement* '}'                                              # blockStatement     // ğŸ†—           âœ…
    | 'if' '(' condition ')' statement ('else' statement)?            # ifStatement        // ğŸ†—           âœ…
    | 'while' '(' condition ')' statement                             # whileStatement     // ğŸ†—           âœ…
    | 'do' statement 'while' '(' condition ')' ';'                    # doWhileStatement   // ğŸ†—           ğŸ†—
    | 'for' '(' expression ';' condition ';' expression ')' statement # forStatement       // ğŸ†—           ğŸ†—
    ;

condition                           // Type Check | Tests
	: expression # boolCondition    // âœ…
	;

expression                                                                       // Type Check | Tests
    : '(' expression ')'    			                  # parenExpression      // ğŸ†—
    | expression op=('+' | '-' | '*' | '/') expression    # aritmExpression      // âœ…
    | expression op='%' expression                        # moduloExpression     // âœ…
    | expression op='.' expression                        # concatExpression     // âœ…
    | expression op=('<' | '>') expression                # relationExpression   // âœ…
    | expression op=('==' | '!=') expression              # comparisonExpression // âœ…
    | expression op=('&&' | '||') expression              # logicExpression      // âœ…
    | op='!' expression                                   # notExpression        // âœ…
    | op='-' expression                                   # negExpression        // âœ…
    | VAR                                                 # varExpression        // âœ…
    | literal                                             # literalExpression    // âœ…
    | VAR '=' expression                                  # assignExpression     // âœ…
    ;

literal
    : INT
    | FLOAT
    | BOOL
    | STRING
    ;

INT: DIGIT+;
FLOAT: DIGIT+ '.' DIGIT*;
BOOL: 'true' | 'false';
STRING: '"' (ESC | ~["\\])* '"';

TYPE: 'int' | 'float' | 'bool' | 'string';
VAR: LETTER (LETTER | DIGIT)*;

// Fucki waki solved by https://stackoverflow.com/questions/22415208/get-rid-of-token-recognition-error
ErrorCharacter : . ;

COMMENT: '//' ~[\r\n]* -> skip;
SPACE: [ \t\r\n]+ -> skip;

fragment ESC: '\\' (["\\/bfnrt] | UNICODE_ESC);
fragment UNICODE_ESC: 'u' HEX HEX HEX HEX;
fragment HEX: [0-9a-fA-F];

fragment LETTER: [a-zA-Z];
fragment DIGIT: [0-9];
